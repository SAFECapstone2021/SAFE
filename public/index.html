<!DOCTYPE html>
<!--The index.html is the default page upon loading in the browser. This will include script to listen for server updates.-->
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
  <title>SAFE Anonymous Feedback</title>
  <link rel="stylesheet" href="styles.css">
</head>
<script src="/socket.io/socket.io.js"></script>
<script>
  let socket = io();
  let element;

  socket.on('time', function (timeString) {
    element = document.getElementById('server-time')
    element.innerHTML = 'Server time: ' + timeString;
  });

  //this is to test the connection of the room. 
  var room = '1';
  socket.on('connect', function () {
    socket.emit('createRoom', room);
  });

  socket.on('initialMsg', function (data) {
    console.log(data);
    document.body.innerHTML = '';
    document.write(data);
  });

</script>

<body>
  <h1 id="initMsg"> SAFE: An application for secure anonymous feedback</h1>
  <h2>A student project for Portland State University Computer Science Capstone 2021</h2>
    <a href='/student'>
      <button type="button" class="btn btn-primary">Student</button></a>
      <a href='/admin'><button type="button" class="btn btn-primary">Admin</button></a>
  <p id="server-time"></p>
</body>

</html>